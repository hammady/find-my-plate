<!DOCTYPE html>
<html lang="<%= l.lang %>">
    <head>
        <title>
            <%= l.title %>
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script>
            function validateReport() {
                const input = document.getElementById('report-plate')
                const value = input.value.trim()
                if (value === '') {
                    alert("<%= l.plate_required %>")
                    return false
                }
                input.value = value
            }
        </script>
        <link rel="stylesheet" href="/styles.css" />
    </head>
    <body dir="<%= l.dir %>">
        <p>
            <ul>
                <li><a href="/?language=en">English</a></li>
                <li><a href="/?language=ar">العربية</a></li>
            </ul>
        </p>
        <br/>
        <h1><%= l.title %></h1>
        <p>
            <%= l.intro %>
        </p>

        <div>
            <h2>
                <%= l.total_reported %> <%= total %>
            </h2>
        </div>
        <hr/>
        <div>
            <h2>
                <%= l.search_header %>
            </h2>
            <form method="GET" action="/search">
                <label for="plate"><%= l.plate_number %></label>
                <input type="text" name="plate"/>
                <input type="hidden" name="language" value="<%= l.lang %>"/>
                <input type="submit" value="<%= l.search %>"/>
            </form>
        </div>

        <div>
            <h2>
                <%= l.report_header %>
            </h2>
            <form method="POST" action="/report?language=<%= l.lang %>" onsubmit="return validateReport()"
            enctype="application/x-www-form-urlencoded">
                <label for="plate"><%= l.plate_number %></label>
                <input type="text" name="plate" id="report-plate"/><br/>
                <label for="plate"><%= l.contact_number %> <%= l.optional %>:</label>
                <input type="text" name="contact"/><br/>
                <label for="plate"><%= l.location %> <%= l.optional %>:</label>
                <input type="text" name="location"/><br/>
                <input type="submit" value="<%= l.report %>"/>
            </form>
        </div>
        <hr/>
        <p>
            Developed by: Hossam Hammady (Twitter: <a href="https://twitter.com/hammady">@hammady</a>)
        </p>
        <p>
            Under MIT open-source license.
            GitHub: <a href="https://github.com/hammady/find-my-plate">https://github.com/hammady/find-my-plate</a>
        </p>
    </body>
</html>
